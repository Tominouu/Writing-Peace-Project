<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="../assets/css/all.css" />
  <link rel="stylesheet" href="../assets/css/index.css" />
  <link rel="stylesheet" href="../assets/css/multiplayer.css" />
  <title>Duel - Writing Peace</title>
</head>
<body>
  <div class="left-section">
    <div class="logo-container">
      <a href="index.html">
        <img src="../assets/img/logo.png" alt="Logo Peace Words" class="logo" />
      </a>
    </div>
  </div>

  <div class="right-section">
    <header>
        <img src="../assets/img/player.png" alt="Logo Peace Words">
        <h3><?= htmlspecialchars($user['username']) ?></h3>
    </header>
    <main class="multiplayer-container">
        <div class="container-Txt">
            <H1>{{ROOM_CODE}}</H1>
        </div>
        <div class="multiplayer-options">
            <div class="game-info">
                <div class="player-info">
                    <h3>{{PLAYER1_NAME}}</h3>
                    <p>Score: 1000</p>
                </div>
                <div class="vs">VS</div>
                    <div class="player-info">
                        <h3>{{PLAYER2_NAME_OR_WAITING}}</h3>
                        <p>Score: 151</p>
                    </div>
                </div>
            </div>
            <div class="question-counter">
                Question {{CURRENT_QUESTION}}/10
            </div>
    </main>
 <!--    <main>
       
      <div class="game-over" style="display:none;">
        <h2>Partie terminée !</h2>
        <div class="final-scores">
          <p>{{PLAYER1_NAME}} : {{PLAYER1_SCORE}} points</p>
          <p>{{PLAYER2_NAME}} : {{PLAYER2_SCORE}} points</p>
        </div>
        <h3>{{RESULT_TEXT}}</h3>
        <a href="multiplayer.html" class="new-game-button">Nouvelle partie</a>
      </div>

      État “en cours” 
      <div class="game-container" style="display:none;">
        <div class="timer">
          <span id="chrono">10</span>
        </div>
        <div class="question">
          <h2>{{QUESTION_TEXT}}</h2>
        </div>

        <form id="quiz-form" class="answers-container">
          <input type="hidden" name="correct_answer" value="{{CORRECT_ANSWER}}" />
          <div class="answers-grid">
            <button type="button" class="answer-button">{{CHOICE_1}}</button>
            <button type="button" class="answer-button">{{CHOICE_2}}</button>
            <button type="button" class="answer-button">{{CHOICE_3}}</button>
            <button type="button" class="answer-button">{{CHOICE_4}}</button>
          </div>
        </form>
      </div>
    </main>
  </div>
-->
  <script>
    // --- Attente d'un joueur ---
    let countdown = 10;
    const countdownElement = document.getElementById('countdown');
    setInterval(() => {
      countdown--;
      if (countdownElement) countdownElement.textContent = countdown;
      if (countdown <= 0) {
        window.location.reload();
      }
    }, 1000);

    // --- En cours de partie ---
    // Pour afficher cette section, tu peux passer display:block sur .game-container
    let timeLeft = 10;
    const chrono = document.getElementById('chrono');
    const form = document.getElementById('quiz-form');

    const timer = setInterval(() => {
      timeLeft--;
      if (chrono) chrono.textContent = timeLeft;
      if (timeLeft <= 0) {
        clearInterval(timer);
        // gérer le timeout
        console.log('Temps écoulé !');
      }
    }, 1000);

    document.querySelectorAll('.answer-button').forEach(button => {
      button.addEventListener('click', () => {
        document.querySelectorAll('.answer-button').forEach(btn => btn.style.display = 'none');
        clearInterval(timer);
        // gérer la réponse sélectionnée
        console.log('Réponse:', button.textContent);
      });
    });
  </script>

</body>
</html>
